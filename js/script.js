const listPersonagens = [
 (personagem001 = {
    nome: "ABACATE",
    imagem:"./img/ABABATE.jpg",
  }),
 (personagem002 = {
    nome: "ABACAXI",
    imagem:"./img/ABACAXI.jpg",
  }),
 (personagem003 = {
    nome: "ABELHA",
    imagem:"./img/ABELHA.jpg",
  }),
 (personagem004 = {
    nome: "ABÓBORA",
    imagem:"./img/ABOBORA.jpg",
  }),
  (personagem005 = {
    nome: "ARANHA",
    imagem:"./img/ARANHA.jpg",
  }),
 (personagem006 = {
    nome: "ARARA",
    imagem:"./img/ARARA.jpg",
  }),
 (personagem007 = {
    nome: "ARMÁRIO",
    imagem:"./img/ARMARIO.jpg",
  }),
 (personagem008 = {
    nome: "ÁRVORE",
    imagem:"./img/ARVORE.jpg",
  }),
  (personagem009 = {
    nome: "ASTRONAUTA",
    imagem:"./img/ASTRONAUTA.jpg",
  }),
 (personagem010 = {
    nome: "AVIÃO",
    imagem:"./img/AVIAO.jpg",
  }),
 (personagem011 = {
    nome: "AZEITONA",
    imagem:"./img/AZEITONA.jpg",
  }),
 (personagem012 = {
    nome: "BAILARINA",
    imagem:"./img/BAILARINA.jpg",
  }),
 (personagem013 = {
    nome: "BALA",
    imagem:"./img/BALA.jpg",
  }),
 (personagem014 = {
    nome: "BALANÇO",
    imagem:"./img/BALANCO.jpg",
  }),
 (personagem015 = {
    nome: "BALÃO",
    imagem:"./img/BALAO.jpg",
  }),
 (personagem016 = {
    nome: "BALDE",
    imagem:"./img/BALDE.jpg",
  }),
 (personagem017 = {
    nome: "BALEIA",
    imagem:"./img/BALEIA.jpg",
  }),
 (personagem018 = {
    nome: "BAMBOLÊ",
    imagem:"./img/BAMBOLE.jpg",
  }),
 (personagem019 = {
    nome: "BANANA",
    imagem:"./img/BANANA.jpg",
  }),
  (personagem020 = {
    nome: "BANCO",
    imagem:"./img/BANCO.jpg",
  }),
  (personagem021 = {
    nome: "BARATA",
    imagem:"./img/BARBEIRO.jpg",
  }),
  (personagem022 = {
    nome: "BARBEIRO",
    imagem:"./img/BARBEIRO.jpg",
  }),
  (personagem023 = {
    nome: "BARCO",
    imagem:"./img/BARCO.jpg",
  }),
  (personagem024 = {
    nome:"BARRACA",
    imagem: "./img/BARRACA.jpg",
  }),
  (personagem025 = {
    nome: "BARRIL",
    imagem:"./img/BARRIL.jpg",
  }),
  (personagem026 = {
    nome: "BASQUETE",
    imagem:"./img/BASQUETE.jpg",
  }),
 (personagem027 = {
    nome: "BATATA",
    imagem:"./img/BATATA.jpg",
  }),
 (personagem028 = {
    nome: "BATEDEIRA",
    imagem:"./img/BATEDEIRA.jpg",
  }),
 (personagem029 = {
    nome: "BATERIA",
    imagem:"./img/BATERIA.jpg",
  }),
 (personagem030 = {
    nome: "BEBÊ",
    imagem:"./img/BEBÊ.jpg",
  }),
  (personagem031 = {
    nome: "BELICHE",
    imagem:"./img/BELICHE.jpg",
  }),
 (personagem032 = {
    nome: "BERINJELA",
    imagem:"./img/BERINJELA.jpg",
  }),
 (personagem033 = {
    nome: "BERMUDA",
    imagem:"./img/BERMUDA.jpg",
  }),
 (personagem034 = {
    nome: "BESOURA",
    imagem:"./img/BESOURO.jpg",
  }),
  (personagem035 = {
    nome: "BETERRABA",
    imagem:"./img/BETERRABA.jpg",
  }),
 (personagem036 = {
    nome: "BEXIGAS",
    imagem:"./img/BEXIGAS.jpg",
  }),
  (personagem037 = {
    nome: "BIBLIOTECA",
    imagem:"./img/BIBLIOTECA.jpg",
  }),
  (personagem038 = {
    nome: "BICICLETA",
    imagem: "./img/BICICLETA.jpg",
  }),
 (personagem039 = {
    nome: "BIFE",
    imagem:"./img/BIFE.jpg",
  }),
 (personagem040 = {
    nome: "BINÓCULO",
    imagem:"./img/BINOCULO.jpg",
  }),
  (personagem041 = {
    nome: "BIQUINI",
    imagem: "./img/BIQUINI.jpg",
  }),
 (personagem042 = {
    nome: "BISCOITO",
    imagem:"./img/BISCOITO.jpg",
  }),
 (personagem043 = {
    nome: "BOBO",
    imagem:"./img/BOBO.jpg",
  }),
 (personagem044 = {
    nome: "BOCA",
    imagem:"./img/BOCA.jpg",
  }),
 (personagem045 = {
    nome: "BOLA",
    imagem:"./img/BOLA.jpg",
  }),
  (personagem046 = {
    nome: "BOLACHA",
    imagem: "./img/BOLACHA.jpg",
  }),
  (personagem047 = {
    nome:"BOLICHE",
    imagem:"./img/BOLICHE.jpg",
  }),
 (personagem048 = {
    nome: "BOLO",
    imagem:"./img/BOLO.jpg",
  }),
 (personagem049 = {
    nome: "BOLSA",
    imagem:"./img/BOLSA.jpg",
  }),
 (personagem050 = {
    nome: "BOMBA",
    imagem:"./img/BOMBA.jpg",
  }),
  (personagem051 = {
    nome: "BOMBEIRO",
    imagem:"./img/BOMBEIRO.jpg",
  }),
 (personagem052 = {
    nome: "BONECA",
    imagem:"./img/BONECA.jpg",
  }),
 (personagem053 = {
    nome: "BORBOLETA",
    imagem:"./img/BORBOLETA.jpg",
  }),
  personagem054 = {
    nome: "BORRACHA",
    imagem:"./img/BORRACHA.jpg",
  },
 (personagem055 = {
    nome: "BOTA",
    imagem:"./img/BOTA.jpg",
  }),
 (personagem056 = {
    nome: "BOTÃO",
    imagem:"./img/BOTAO.jpg",
  }),
 (personagem057 = {
    nome: "BOXE",
    imagem:"./img/BOXE.jpg",
  }),
 (personagem058 = {
    nome: "BUDA",
    imagem:"./img/BUDA.jpg",
  }),
 (personagem059 = {
    nome: "BULE",
    imagem:"./img/BULE.jpg",
  }),
  (personagem060 = {
    nome: "BUMERANGUE",
    imagem:"./img/BUMERANGUE.jpg",
  }),
  (personagem061 = {
    nome: "BUQUÊ",
    imagem: "./img/BUQUE.jpg",
  }),
  (personagem062 = {
    nome:"BURRO",
    imagem:"./img/BURRO.jpg",
  }),
  (personagem063 = {
    nome: "BUSSULA",
    imagem: "./img/BUSSULA.jpg",
  }),
 (personagem064 = {
    nome: "CABANA",
    imagem:"./img/CABANA.jpg",
  }),
  (personagem065 = {
    nome: "CABRITO",
    imagem: "./img/CABRITO.jpg",
  }),
  (personagem066 = {
    nome: "CACHOEIRA",
    imagem: "./img/CACHOEIRA.jpg",
  }),
  (personagem065 = {
    nome: "CACHORRO",
    imagem: "./img/CACHORRO.jpg",
  }),
 (personagem066 = {
    nome: "CADEIRA",
    imagem:"./img/CADEIRA.jpg",
  }),
 (personagem067 = {
    nome: "CADERNO",
    imagem:"./img/CADERNO.jpg",
  }),
 (personagem068 = {
    nome: "CALÇA",
    imagem:"./img/CALCA.jpg",
  }),
 (personagem069 = {
    nome: "CALOR",
    imagem:"./img/CALOR.jpg",
  }),
 (personagem070 = {
    nome: "CAMA",
    imagem:"./img/CAMA.jpg",
  }),
 (personagem071 = {
    nome: "CAMALEÃO",
    imagem:"./img/CAMALEAO.jpg",
  }),
 (personagem072 = {
    nome: "CAMARÃO",
    imagem:"./img/CAMARAO.jpg",
  }),
  (personagem073 = {
    nome:"CAMINHÃO",
    imagem:"./img/CAMINHAO.jpg",
  }),
 (personagem074 = {
    nome: "CAMISETA",
    imagem:"./img/CAMISETA.jpg",
  }),
 (personagem075 = {
    nome: "CANGURU",
    imagem:"./img/CANGURU.jpg",
  }),
  (personagem076 = {
    nome: "CANHÃO",
    imagem:"./img/CANHAO.jpg",
  }),
 (personagem077 = {
    nome: "CANOA",
    imagem:"./img/CANOA.jpg",
  }),
 (personagem078 = {
    nome: "CARAMUJO",
    imagem:"./img/CARAMUJO.jpg",
  }),
  (personagem079 = {
    nome:"CARANGUEJO",
    imagem:"./img/CARANGUEJO.jpg",
  }),
  (personagem080 = {
    nome: "CARNEIROO",
    imagem:"./img/CARNEIRO.jpg",
  }),
  (personagem081 = {
    nome: "CARROSSEL",
    imagem: "./img/CARROSSEL.jpg",
  }),
 (personagem082 = {
    nome: "CASA",
    imagem:"./img/CASA.jpg",
  }),
 (personagem083 = {
    nome: "CASACO",
    imagem:"./img/CASACO.jpg",
  }),
 (personagem084 = {
    nome: "CASTELO",
    imagem:"./img/CASTELO.jpg",
  }),
 (personagem085 = {
    nome: "CATAVENTO",
    imagem:"./img/CATAVENTO.jpg",
  }),
 (personagem086 = {
    nome: "CAVALO",
    imagem:"./img/CAVALO.jpg",
  }),
 (personagem087 = {
    nome: "CEBOLA",
    imagem:"./img/CEBOLA.jpg",
  }),
  (personagem088 = {
    nome: "CEGONHA",
    imagem: "./img/CEGONHA.jpg",
  }),
 (personagem089 = {
    nome: "CENOURA",
    imagem:"./img/CENOURA.jpg",
  }),
 (personagem090 = {
    nome: "CENTOPEIA",
    imagem:"./img/CENTOPEIA.jpg",
  }),
 (personagem091 = {
    nome: "CERCA",
    imagem:"./img/CERCA.jpg",
  }),
 (personagem092 = {
    nome: "CEREAL",
    imagem:"./img/CEREAL.jpg",
  }),
 (personagem093 = {
    nome: "CEREJAS",
    imagem:"./img/CEREJAS.jpg",
  }),
 (personagem094 = {
    nome: "CESTA",
    imagem:"./img/CESTA.jpg",
  }),
  (personagem095 = {
    nome: "CIGANA",
    imagem:"./img/CIGANA.jpg",
  }),
 (personagem096 = {
    nome: "CIRCO",
    imagem:"./img/CIRCO.jpg",
  }),
 (personagem097 = {
    nome: "COBRA",
    imagem:"./img/COBRA.jpg",
  }),
 (personagem098 = {
    nome: "COCA",
    imagem:"./img/COCA.jpg",
  }),
 (personagem099 = {
    nome: "COCO",
    imagem:"./img/COCO.jpg",
  }),
  (personagem100 = {
    nome:"COELHO",
    imagem:"./img/COELHO.jpg",
  }),
 (personagem101 = {
    nome:"COGUMELOS",
    imagem:"./img/COGUMELOS.jpg",
  }),
 (personagem102 = {
    nome:"COLAR",
    imagem:"./img/COLAR.jpg",
  }),
 (personagem103 = {
    nome:"COLMEIA",
    imagem:"./img/COLMEIA.jpg",
  }),
 (personagem104 = {
    nome:"CONFEITEIRO",
    imagem:"./img/CONFEITEIRO.jpg",
  }),
 (personagem105 = {
    nome:"CORAÇÃO",
    imagem:"./img/CORACAO.jpg",
  }),
 (personagem106 = {
    nome:"CORDEIRO",
    imagem:"./img/CORDEIRO.jpg",
  }),
 (personagem107 = {
    nome:"COROA",
    imagem:"./img/COROA.jpg",
  }),
 (personagem108 = {
    nome:"CORTINA",
    imagem:"./img/CORTINA.jpg",
  }),
 (personagem109 = {
    nome:"CORUJA",
    imagem:"./img/CORUJA.jpg",
  }),
 (personagem110 = {
    nome:"COUVE-FLOR",
    imagem:"./img/COUVEFLOR.jpg",
  }),
  (personagem111 = {
    nome: "COZINHA",
    imagem:"./img/COZINHA.jpg",
  }),
 (personagem112 = {
    nome:"CUBO",
    imagem:"./img/CUBO.jpg",
  }),
  (personagem031 = {
    nome: "DEGRAUS",
    imagem:"./img/DEGRAUS.jpg",
  }),
  (personagem032 = {
    nome:"DEPRESSA",
    imagem:"./img/DEPRESSA.jpg",
  }),
  (personagem033 = {
    nome: "DESENHO",
    imagem: "./img/DESENHO.jpg",
  }),
  (personagem034 = {
    nome: "DESTRUÍDA",
    imagem: "./img/DESTRUIDA.jpg",
  }),
  (personagem035 = {
    nome: "DEZEMBRO",
    imagem: "./img/DEZEMBRO.jpg"
  }),
  (personagem036 = {
    nome: "DINHEIRO",
    imagem:"./img/DINHEIRO.jpg",
  }),
  (personagem037 = {
    nome: "DINOSSAURO",
    imagem: "./img/DINOSSAURO.jpg",
  }),
  (personagem038 = {
    nome: "DOBRADURA",
    imagem: "./img/DOBRADURA.jpg",
  }),
  (personagem039 = {
    nome: "ESCORREGADOR",
    imagem:"./img/ESCORREGADOR.jpg",
  }),
  (personagem040 = {
    nome: "ESPAGUETE",
    imagem: "./img/ESPAGUETE.jpg",
  }),
  (personagem041 = {
    nome:"ESPANTALHO",
    imagem: "./img/ESPANTALHO.jpg",
  }),
  (personagem042 = {
    nome: "ESPELHO",
    imagem: "./img/ESPELHO.jpg",
  }),
  (personagem043 = {
    nome:"ESQUILO",
    imagem: "./img/ESQUILO.jpg",
  }),
];

let nomePersonagem;
let imagemPersonagem;
let tentativas = 5;
console.log("tentativas =" + tentativas);
let resposta;
let erros = 0;
let acertos = 0;
let finalizouPartida = false;

SorteiaImagem();
function SorteiaImagem() {
  const index = parseInt(Math.random() * listPersonagens.length);

  nomePersonagem = listPersonagens[index].nome;
  imagemPersonagem = listPersonagens[index].imagem;

  console.log(nomePersonagem);
  console.log(imagemPersonagem);

  document.getElementById("imagem").style.backgroundImage =
    "url(" + imagemPersonagem + ")";

  //fesfocar a imagem
  desfocarImagem(tentativas);
}

function desfocarImagem(valoDesfoque) {
  const imagem = document.getElementById("imagem");

  switch (valoDesfoque) {
    case 5:
      imagem.style.filter = "blur(40px)";
      break;
    case 4:
      imagem.style.filter = "blur(30px)";
      break;
    case 3:
      imagem.style.filter = "blur(20px)";
      break;
    case 2:
      imagem.style.filter = "blur(17px)";
      break;
    case 1:
      imagem.style.filter = "blur(14px)";
      break;
    case 0:
      imagem.style.filter = "blur(0)";
      break;
    default:
      break;
  }
}

document.addEventListener("keydown", (e) => {
if (finalizouPartida == false) {
  if (e.key === "Enter") {
    e.preventDefault();
    resposta = document.querySelector("#resposta").value.toUpperCase();
    if (resposta.length < 3 || !resposta.trim() || resposta == undefined) {
      personalizaModal("nomeInvalido");
      document.getElementById("resposta").value = "";
    } else {
      if (tentativas > 0) {
        if (resposta == nomePersonagem) {// se entrar aqui é porque ganhou
          acertos++;
          desfocarImagem(0);
          document.querySelector(".borda-imagem").style.border = "none";
          mudaStatusInput(true);
          finalizouPartida = true;
          personalizaModal("vitoria");
          habilitaBotaoJogarNovamente();
        } else { // se entrar aqui é porque ainda esta tentando acertar
          tentativas--;
          desfocarImagem(tentativas);
          barraDeProgresso(tentativas)
          document.getElementById("resposta").value = "";
          console.log("tentativas =" + tentativas);
        }
      }

      if (tentativas == 0) { // se entrar aqui é porque perdeu
        erros++;
        document.querySelector(".borda-imagem").style.border = "none";
        document.getElementById("resposta").value = nomePersonagem;
        mudaStatusInput(true);
        finalizouPartida = true;
        personalizaModal("derrota");
        habilitaBotaoJogarNovamente();
      }
      }
      console.log("tentativas =" + tentativas);
      document.querySelector("#derrotas").innerText = erros;
      document.querySelector("#vitorias").innerText = acertos;
    }
  }
  else{
    return;
  }
});

const modal = document.getElementById("modal-alerta");
const span = document.getElementsByClassName("close")[0];
span.onclick = function () {
  modal.style.display = "none";
};

window.onclick = function (event) {
  if (event.target == modal) {
    modal.style.display = "none";
  }
};

function personalizaModal(alerta) {
  const modalMensagem = document.getElementById("modal-mensagem");

  switch (alerta) {
    case "nomeInvalido":
      modalMensagem.innerHTML = "<p> Está querendo me enganar ? </p><p>Digite um nome Válido.</p>";
      break;
    case "vitoria":
      modalMensagem.innerHTML = "<p> Você é bom nisso mesmo hein!</p><p>Nunca duvidei de você.</p>";
      break;
    case "derrota":
      modalMensagem.innerHTML = "<p> Não foi dessa vez</p><p>Aposto que voce consegue na próxima.</p>";
      break;
    default:
      break;
  }
  modal.style.display = "block";
}

function barraDeProgresso(carregaBarra) {
  if (carregaBarra == 5) {
    document.getElementById("progresso-01").style.backgroundColor = "transparent";
    document.getElementById("progresso-02").style.backgroundColor = "transparent";
    document.getElementById("progresso-03").style.backgroundColor = "transparent";
    document.getElementById("progresso-04").style.backgroundColor = "transparent";
    document.getElementById("progresso-05").style.backgroundColor = "transparent";
  } else {
    switch (carregaBarra) {
      case 4:
        document.getElementById("progresso-01").style.backgroundColor = "#ffd700";
        break;
      case 3:
        document.getElementById("progresso-02").style.backgroundColor = "#ffd700";
        break;
      case 2:
        document.getElementById("progresso-03").style.backgroundColor = "#ffd700";
        break;
      case 1:
        document.getElementById("progresso-04").style.backgroundColor = "#ffd700";
        break;
      case 0:
        document.getElementById("progresso-05").style.backgroundColor = "#ffd700";
        break;
      default:
        break;
    }
  }
}

function habilitaBotaoJogarNovamente(){
  document.getElementById("btnJogarNovamente").style.display = "inline";
}

document.querySelector("#btnJogarNovamente").addEventListener("click", function(){
  finalizouPartida = false;
  tentativas = 5;
  SorteiaImagem();
  desfocarImagem(tentativas);
  mudaStatusInput(false);
  document.getElementById("resposta").value = "";
  document.getElementById("resposta").focus();
  barraDeProgresso(5)
  document.querySelector("#btnJogarNovamente").style.display = "none";
  document.querySelector(".borda-imagem").style.border = "10px solid #00ffdd"
});

function mudaStatusInput(condicao){
  document.getElementById("resposta").disabled = condicao;
}
